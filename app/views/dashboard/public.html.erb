<div class="my-8 mx-12" data-controller='stat'>
  <!-- Stats -->
  <h2 class="text-3xl text-center font-bold mb-6 text-gray-800 dark:text-white">Stats</h2>

  <div class="grid grid-cols-2 gap-6 md:grid-cols-3 lg:grid-cols-4">
    <!-- Total Games -->
    <%= render 'card_stats', heading: 'Total Games', count: total_games %>

    <!-- In Progress Game -->
    <%= render 'card_stats', heading: 'In Progress Games', count: in_progress_games %>

    <!-- Completed Game -->
    <%= render 'card_stats', heading: 'Completed Games', count: completed_games %>

    <!-- Total Teams -->
    <%= render 'card_stats', heading: 'Total Teams', count: total_teams %>

    <!-- Total Users -->
    <%= render 'card_stats', heading: 'Total Users', count: total_users %>
  </div>

  <%= form_with(url: root_path, method: :get) do |form| %>
    <div class="flex justify-end mb-4">
      <div class="flex items-center mr-4">
        <%= form.label :type, "Show Rank:", class: "text-sm font-medium text-gray-700" %>
        <%= form.select :type, options_for_select([["Team", "team"], ["Male", "male"], ["Female", "female"]], params[:type]), {}, class: "border border-gray-300 rounded-md px-2 py-1 ml-2", data: {action: "change->stat#selectedFilter"} %>
      </div>
      <%= form.submit "Filter", class: "bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded-md transition duration-300 ease-in-out" %>
    </div>
  <% end %>

  <div class='w-full text-center'>
    <!-- Ranking -->
    <div class="sm:w-full mb-10 px-4">
      <%= render 'rank_table', heading: "#{params[:type] ? params[:type].humanize : 'Team'} Ranking", ranks: @ranks  %>
    </div>
    <%= paginate @ranks %>
  </div>
</div>
